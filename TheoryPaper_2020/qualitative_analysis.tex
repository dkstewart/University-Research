\subsection{Qualitative Analysis}

\textit{Transformation of MCS} : When the MCS contains only faults, the MCS is equivalent to the MinCutSet as shown in the first part of the proof. When contracts exist in the MCS, a replacement can be made which transforms the MCS into the MinCutSet. \\

\begin{theorem}  The MinCutSet is generated by the transformation of the Minimal Correction Set (MCS).\\

\begin{proof}  For faults in the model $F$ and subcomponent contracts $G$: $MCS \cap F \neq \{\}$ $\lor$ $MCS \cap G \neq \{\}$.\\

\underline{Part 1}: $MCS \cap G = \emptyset$\\

Since $!\exists g \in MCS$, the only elements of $MCS$ are constrained faults (inactive). By definition, $C\setminus MCS$ is SAT and $\forall S \subset MCS$, $C\setminus S$ is UNSAT. By the minimality of an MCS and this observation, this is the definition of a minimal cut set. \\

\underline{Part 2}: $MCS \cap G \neq \emptyset$\\

Let $MCS = \{f_1,...,f_n,g_1,...,g_m\}$. For $g_1 \in MCS$, there exists a set containing all minimal cut sets of $g_1$. Call this $Cut(g_1) = \{F_{1i} \subseteq F \ni F_{1i}$ is a min cut set of $g_1, i = 1,...,p_1\}$. 

Replace $g_1$ with $F_{1i}$ for all $i = 1,...,p_1$. This produces $p_1$ new MCSs of the form:
\begin{center}
$\{f_1,...,f_n,F_{11},...,g_m\}$\\
$\{f_1,...,f_n,F_{12},...,g_m\}$\\
$\vdots$\\
$\{f_1,...,f_n,F_{1p_1},...,g_m\}$\\
\end{center}

Perform this replacement for all $g_j \in MCS$, $j=1,...,m$. This produces at most $|p_1| \times \hdots \times |p_m|$ MCSs containing only faults. Let $MCS_\alpha$ be one of these MCSs with full replacement complete. Let $F_\beta \subseteq MCS_\alpha$.\\

If $F_\beta \subseteq \{f_1, ..., f_n\}$, then by definition of MCS and minimality thereof, $C \setminus F_\beta$ is SAT, $\forall f \subset F_\beta$, $C \setminus f$ is UNSAT, and $F_\beta$ is a minimal cut set for $\neg P \in C$. \\

If $F_\beta \subseteq Cut(g_j)$ for any $g_j \in MCS$, then $C \setminus F_\beta$ will cause violation of $g$ (i.e. change the constraint of $g \in C$ to false). Thus by definition of $MCS$ and its minimality, $F_\beta$ is a minimal cut set for $\neg P \in C$. \\

\end{proof}
\end{theorem}

\textit{Replacement of a Contract with its MinCutSets for Max N Faults Analysis} : At the leaf level, only faults are contained in IVCs (and consequently in MCSs). Thus we store these cut sets in a lookup table for quick access throughout the algorithm. For this algorithm, we assume we are in an intermediate level of the analysis. Given a fault hypothesis of max N faults, we disregard any cut sets over cardinality N and collect the rest.\\

Assuming we have used the hitting set to generate MCS from the IVC, this is where the algorithm begins. \\

Let $MCS = F \cup G$ for faults $f \in F$ and contracts $g \in G$. If $|G| = 0$, then add $MCS$ to contract lookup table (it is already a MinCutSet). \\

Assume $|G| = \alpha > 0$.\\

Let $Cut(g_j) = {cut_1(g_j), ..., cut_{\beta}(g_j)}$ be all minimal cut sets for a contract $g_j \in G$ and $g_j \in MCS$ where $|Cut(g_j)|=\beta_j$.\\

\begin{algorithm}
	% \KwData{this text}
	% \KwResult{how to write algorithm with \LaTeX2e }
	$List(MCS) = {MCS}$ : initialize list of MCSs that contain contracts \;
	$Cut(g_j)$ : all minimal cut sets with cardinality less than or equal to $N$ of the contract $g_j$ \;
	$0 < j \leq \alpha$ \;
	$0 < i \leq \gamma$ \;
	\For{all $MCS_i \in List(MCS)$ }{
	    Remove $MCS_i$ from $List(MCS)$\;
	    \For{all $g_j\in MCS_i$}{
		Remove $g_j$ from $MCS_i$ \;
		\For{all $cut_k(g_j) \in Cut(g_j)$}{
			Add $cut_k(g_j)$ to $MCS_i$ \;
			\If{$|MCS_i| \leq N$}{
				\eIf{$\exists g_j\in MCS_i$}{
					Add $MCS_i$ to $List(MCS)$
				}{
					Add $MCS_i$ to contract look up table (done)
				} % end if-else there is a contract in new MCS
			} % end if MCS is under threshold
		} % end for cut_i(g)
               } % end for contracts in MCS_i
	} % end for List(MCS)
	\caption{Replacement}
	\label{alg:repl_alg}
\end{algorithm}

The number of replacements $R$ that are made in this algorithm are given as the combination of minimal cut sets of the contracts within the $MCS$. The validity of this statement follows directly from the general multiplicative combinatorial principle. Therefore, the number of replacements $R$ is given by:\\

$R = {\displaystyle \prod_{j=1}^{\alpha } |Cut(g_j)|}$ \\

This is equivalent to the number of minimal cut sets generated which follows easily from the combinatorial calculation. It is also important to note that the cardinality of $List(MCS)$ is bounded. Every new $MCS$ that is generated that still contains contracts is added to $List(MCS)$. Thus every contract up until the penultimate contract contributes to the cardinality of $List(MCS)$. The bound is given by: \\

$|List(MCS)| \leq {\displaystyle \prod_{j=1}^{\alpha -1} |Cut(g_j)|}$\\

\begin{theorem} 
The elimination of any $MCS$ with $|MCS| > N$ will not eliminate any associated $MinCutSet$ with $|MinCutSet| \leq N$. \\

\begin{proof} 
Let $\{X\}_{i=1}^n$ be the associated minimal cut sets to some $MCS$ for a given property. Assume $|MCS| > N$ for a maximum fault threshold $N$.  Let $g$ be any guarantee (or contract) found within the MCS. \\

\underbar{Case 1}: $!\exists g \in MCS$\\
Then $MCS = X_1$ for $n = 1$ (i.e. this is the only minimal cut set associated with $MCS$) and $|MCS| = |X_1|$.\\

\underbar{Case 2}: $\exists g \in MCS$\\
Then there exists a set of all cut sets for $g$. Let this be $Cut(g)$ where $|Cut(g)| > 0$ and $c_i \in Cut(g)$ for $i = 1,...,n$, $n \in \mathbb{N}$. Since $c_i$ is a cut set for $g$, $|c_i| > 0$, $\forall i$. \\

Let $X_i$ be the MinCutSet generated through the replacement of $g \in MCS$ with $c_i \in Cut(g)$. Since $|c_i| > 0$, $|X_i| \geq |MCS|$. 

\end{proof}
\end{theorem}





































